{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormControl.js","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Login/Login.module.css","components/Login/LoginForm.jsx","components/Login/Login.jsx"],"names":["module","exports","FormControl","input","meta","touched","error","props","hasAnError","className","formsCSS","form_control","children","Textarea","restProps","child","Input","InputCheckbox","inputRememberValue","value","inputCheckbox","not_remember","remember","createField","type","placeholder","name","validators","component","Field","validate","requiredField","maxLengthCreator","maxLength","length","minLengthCreator","minLength","LoginReduxForm","reduxForm","form","handleSubmit","captchaUrl","onSubmit","loginCSS","checkbox","src","alt","form_summery_error","connect","state","isAuth","auth","login","formData","a","email","password","rememberMe","captcha","to","login_form","text"],"mappings":"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","file":"static/js/7.1dc6c4e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormsControls_form_control__36sjN\",\"error\":\"FormsControls_error__ydhXo\",\"inputCheckbox\":\"FormsControls_inputCheckbox__3mb_B\",\"not_remember\":\"FormsControls_not_remember__E7_A2\",\"remember\":\"FormsControls_remember__3KlIS\"};","import React from \"react\";\r\nimport formsCSS from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasAnError = touched && error;\r\n    return <>\r\n        <div className={formsCSS.form_control}>\r\n            <div className={(hasAnError ? formsCSS.error : '')}>\r\n                {props.children}\r\n            </div>\r\n            {hasAnError && <span> {error}</span>}\r\n        </div>\r\n    </>\r\n}\r\nexport default FormControl;\r\n","import React from \"react\";\r\nimport formsCSS from \"./FormsControls.module.css\";\r\nimport FormControl from \"./FormControl\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const InputCheckbox = ({input, meta, ...props}) => {\r\n    const inputRememberValue = !input.value;\r\n    return (\r\n        <div className={formsCSS.inputCheckbox}>\r\n            <input {...input} {...props}/>\r\n            {inputRememberValue && <span className={formsCSS.not_remember}>do not remember</span>}\r\n            {!inputRememberValue && <span className={formsCSS.remember}>remember me =)</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (type, placeholder, name, validators, component) => (\r\n    <div>\r\n        <Field type={type} name={name} placeholder={placeholder}\r\n               component={component}\r\n               validate={validators}/>\r\n    </div>\r\n)\r\n","export const requiredField = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required.';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if (value && value.length < minLength) return `Min length is ${minLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__MHvIx\",\"login_form\":\"Login_login_form__Z1a1I\",\"checkbox\":\"Login_checkbox__3poWH\",\"form_summery_error\":\"Login_form_summery_error__2c2RO\",\"text\":\"Login_text__2gU03\"};","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport loginCSS from \"./Login.module.css\";\r\nimport {InputCheckbox, Input, createField} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength = maxLengthCreator(50);\r\n\r\nconst LoginFrom = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('text', ' Enter email', 'email', [requiredField, maxLength], Input)}\r\n            {createField('password', 'and password', 'password', [requiredField, maxLength], Input)}\r\n            <div className={loginCSS.checkbox}>\r\n                {createField('checkbox', null, 'rememberMe', [maxLength], InputCheckbox)}\r\n            </div>\r\n            {captchaUrl && <img src={captchaUrl} alt={''}/>}\r\n            {captchaUrl && createField('input', 'Symbols from image', 'captcha', [maxLength], Input)}\r\n\r\n            {error && <div className={loginCSS.form_summery_error}>{error}</div>}\r\n            <div>\r\n                <button>login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginFrom)\r\n\r\nexport default LoginReduxForm;\r\n","import React from 'react';\r\nimport loginCSS from './Login.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport LoginReduxForm from \"./LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth_reducer\";\r\n\r\nconst Login = ({login, isAuth, captchaUrl}) => {\r\n    const onSubmit = async (formData) => {\r\n        // console.log(formData);\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    return <>\r\n        <div className={loginCSS.login}>\r\n            {!isAuth\r\n                ? <div className={loginCSS.login_form}>\r\n                    <div className={loginCSS.text}>\r\n                        <div>For test purpose login: <b>free@samuraijs.com</b></div>\r\n                        <div> and password: <b>free</b></div>\r\n                    </div>\r\n                    <h1>Login</h1>\r\n                    <LoginReduxForm captchaUrl={captchaUrl} onSubmit={onSubmit}/>\r\n                </div>\r\n                : <div><Redirect to='/profile'/></div>\r\n            }\r\n            {/* check HeaderContainer.jsx and uncomment Redirect */}\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl,\r\n})\r\n\r\n// it was without mapStateToProps\r\n// export default connect(null, {login})(Login);\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n"],"sourceRoot":""}